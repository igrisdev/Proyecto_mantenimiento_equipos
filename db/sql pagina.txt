CREATE TABLE sedes (
	id INT AUTO_INCREMENT,
    nombre VARCHAR(60),
    PRIMARY KEY (id)
);

CREATE TABLE salas (
	id INT AUTO_INCREMENT,
    nombre VARCHAR(60),
    PRIMARY KEY (id),
    
    idSede INT,
    FOREIGN KEY (idSede) REFERENCES sedes(id)
);

CREATE TABLE marcas (
	id INT AUTO_INCREMENT,
    nombre VARCHAR(60),
    PRIMARY KEY (id)
);

CREATE TABLE equipos(
	id INT AUTO_INCREMENT,
    tipo VARCHAR(100),
    PRIMARY KEY (id),
    
    idMarca INT,
    FOREIGN KEY (idMarca) REFERENCES marcas(id),
    idSala INT,
    FOREIGN KEY (idSala) REFERENCES salas(id)
);

CREATE TABLE monitores (
	cc INT,
    nombre VARCHAR(100),
    PRIMARY KEY (cc)
);

CREATE TABLE mantenimientos (
	id INT AUTO_INCREMENT,
    tipo_mantenimiento VARCHAR(100),
    problema VARCHAR(250),
    descripcion VARCHAR(250),
    fecha TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (id),
    
    idEquipo INT,
    FOREIGN KEY (idEquipo) REFERENCES equipos(id),
    quienCC INT,
    FOREIGN KEY (quienCC) REFERENCES monitores(cc)
);


-- Insertar datos en la tabla sedes
INSERT INTO sedes (nombre) VALUES
('Sede A'),
('Sede B'),
('Sede C');

-- Insertar datos en la tabla salas
INSERT INTO salas (nombre, idSede) VALUES
('Sala 1', 1),
('Sala 2', 1),
('Sala 3', 2);

-- Insertar datos en la tabla marcas
INSERT INTO marcas (nombre) VALUES
('Marca X'),
('Marca Y'),
('Marca Z');

-- Insertar datos en la tabla equipos
INSERT INTO equipos (tipo, idMarca, idSala) VALUES
('Equipo 1', 1, 1),
('Equipo 2', 2, 1),
('Equipo 3', 3, 2);

-- Insertar datos en la tabla monitores
INSERT INTO monitores (cc, nombre) VALUES
(12345, 'Juan'),
(67890, 'Maria'),
(13579, 'Pedro');

-- Insertar datos en la tabla mantenimientos
INSERT INTO mantenimientos (tipo_mantenimiento, problema, descripcion, idEquipo, quienCC) VALUES
('Preventivo', 'Fallo en disco duro', 'Reemplazo del disco duro', 1, 12345),
('Correctivo', 'Pantalla rota', 'Reemplazo de la pantalla', 2, 67890),
('Preventivo', 'Lentitud en el sistema', 'Limpieza interna y actualización de software', 3, 13579);

